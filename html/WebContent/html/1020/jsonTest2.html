<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AJAX 호출 테스트</title>
<script src="../../js/jquery-3.5.1.min.js"></script>
<script>
	$(function() {

		$('#btnTable').click(
				function() {
					$.ajax({
						url : "jsondata3.jsp",
						dataType : "json",
						success : function(data) {
							var textHtml="";
						
							for (i in data) {
								textHtml +="<tr>" 
										+ "<td>" + data[i].name+ "</td>" 
										+ "<td>" + data[i].addr+ "</td>" 
										+ "<td>" + data[i].tel + "</td>"
										+ "<tr>";

							}
							textHtml += "</table>";
							
							makeTable(textHtml);
							

						},
						error : function() {
							alert("json 파일 실패...");
						}
					});
				});
		$('#btnTable2').click(
				function() {
					$.ajax({
						url : "jsondata3.jsp",
						dataType : "json",
						success : function(data) {
							var textHtml="";
						
							
								textHtml +="<tr>" 
										+ "<td colspan='3'>검색 결과 없습니다.</td>" 
										+ "<tr>";

						
							textHtml += "</table>";
							
							makeTable(textHtml);
							

						},
						error : function() {
							alert("json 파일 실패...");
						}
					});
				});

	});
	
	
function makeTable(tdData) {
	var textHtml = "";
	textHtml += "<table>" 
		+ "<tr>" 
		+ "<th>이름</th>"
		+ "<th>주소</th>" 
		+ "<th>번호</th>"
		+ "</tr>"
		+ tdData;
		
	$("#divResult").html(textHtml);
}	
	
</script>
<style type="text/css">
table, td, th {
	border: 1px solid red;
	text-align: center;
}
th{
	width: 200px;
}
</style>
</head>
<body>
	<h1>AJAX 테스트</h1>
	<button type="button" id="btnTable">table1</button>
	<button type="button" id="btnTable2">table2</button>
	<br>
	<br>
	<div id="divResult"></div>
	<br>



</body>
</html>