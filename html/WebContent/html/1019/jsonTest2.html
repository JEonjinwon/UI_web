<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AJAX 호출 테스트</title>
<script src="../../js/jquery-3.5.1.min.js"></script>
<script>
$(function () {
/* 	$('#btnJSON1').click(function () {
		$.ajax({
			url:"jsondata1.json"
			
			,success:function(data){
				var obj = JSON.parse(data);
				$("#divResult").html(data);
				$("#spName").html("이름 : "+obj.name);
				$("#spAge").html("나이 : "+obj.age);
			}
			,error:function(){
				alert("json 파일 실패...");
			}
		});
	}); */
	$('#btnJSON1').click(function () {
		$.ajax({
			url:"jsondata1.json"
			,dataType : "json"	//dataType을 "json"으로 주면 JOSN.parse()과정이 필요없다.
			,success:function(data){
				$("#divResult").text(data);
				$("#spName").html("이름 : "+data.name);
				$("#spAge").html("나이 : "+data.age);
			}
			,error:function(){
				alert("json 파일 실패...");
			}
		});
	});


	$('#btnJSON2').click(function () {
		$.ajax({
			url:"jsondata2.jsp"
			,dataType : "json"	
			,success:function(data){
				//$("#divResult").html(JSON.stringify(data));

				var html ="<ol>";
				for (var i = 0; i < data.length; i++) {
					html += "<li>"+data[i]+"</li>";
				}
				html+="</ol>";
				$("#divResult").html(html);
				
			}
			,error:function(){
				alert("json 파일 실패...");
			}
		});
	});
	$('#btnJSON3').click(function () {
		$.ajax({
			url:"jsondata2.jsp"
			,dataType : "json"	
			,success:function(data){
				//$("#divResult").html(JSON.stringify(data));

				var html ="<select>";
				for (var i = 0; i < data.length; i++) {
					html += "<option>"+data[i]+"</option>";
				}
				html+="</select>";
				$("#divResult").html(html);
			}
			,error:function(){
				alert("json 파일 실패...");
			}
		});
	});
	$('#btnJSON4').click(function () {
		$.ajax({
			url:"jsondata3.jsp"
			,dataType : "json"	
			,success:function(data){
			
			var textHtml="";
			for(i in data){
				textHtml+=" 이름 : "+data[i].name+"<br>"
						+" 주소 : "+data[i].addr+"<br>"
						+" 전번 : "+data[i].tel+"<br><br>";
				
			}				
				$("#divResult").html(textHtml);
				
			}
			,error:function(){
				alert("json 파일 실패...");
			}
		});
	});

});



</script>

</head>
<body>
	<h1>AJAX 테스트</h1>
	<button type="button" id="btnJSON1">JSON1</button>
	<button type="button" id="btnJSON2">JSON2</button>
	<button type="button" id="btnJSON3">JSON3</button>
	<button type="button" id="btnJSON4">JSON4</button>
	<br><br>
	<div id="divResult"></div><br>
	
	
	
</body>
</html>